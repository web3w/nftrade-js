import { BigNumber, ContractBase, orderHashUtils, ZeroExchange } from '../../index'
import { DealOrder } from '@txdev/0x-utils/lib'

const chainId = 56 //await deployer.getChainId();
//https://www.element.market/assets/bsc/0x7ad9014955352638ae3d4036c9e43009117b8871/3483
//https://nftrade.com/assets/bsc/0x7ad9014955352638ae3d4036c9e43009117b8871/3483
const dealOrderE:DealOrder = {
  "makerAddress": "0x86224bbfcfd824f67c64a4356e94526772e2a323",
  "takerAddress": "0x0000000000000000000000000000000000000000",
  "feeRecipientAddress": "0x0000000000000000000000000000000000000000",
  "senderAddress": "0x0000000000000000000000000000000000000000",
  "makerAssetAmount": "1",
  "takerAssetAmount": "1900000000000000",
  "makerFee": "0",
  "takerFee": "0",
  "expirationTimeSeconds": "1651981094209",
  "salt": "65660119259488312333190624144619081767663454080195720454619643518829023034680",
  "makerAssetData": "0x025717920000000000000000000000007ad9014955352638ae3d4036c9e43009117b88710000000000000000000000000000000000000000000000000000000000000d9b",
  "takerAssetData": "0xf47261b0000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",
  "makerFeeAssetData": "0x025717920000000000000000000000007ad9014955352638ae3d4036c9e43009117b88710000000000000000000000000000000000000000000000000000000000000d9b",
  "takerFeeAssetData": "0xf47261b0000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",
  "exchangeAddress": "0xcFB6Ee27d82beb1B0f3aD501B968F01CD7Cc5961",
  chainId,
  "signature": "0x0fa9847579a88932011c0a69875a574913e5457fbd2350fa92589e053a954db9"
};

const dealOrder:DealOrder = {
  chainId,
  "senderAddress": "0x0000000000000000000000000000000000000000",
  "makerAddress": "0x86224bbfcfd824f67c64a4356e94526772e2a323",
  "takerAddress": "0x0000000000000000000000000000000000000000",
  "makerAssetData": "0x025717920000000000000000000000007ad9014955352638ae3d4036c9e43009117b88710000000000000000000000000000000000000000000000000000000000000d9b",
  "takerAssetData": "0xf47261b0000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",
  "exchangeAddress": "0xcFB6Ee27d82beb1B0f3aD501B968F01CD7Cc5961",
  "feeRecipientAddress": "0x0000000000000000000000000000000000000000",
  "expirationTimeSeconds": "1651981094209",
  "makerFee": "0",
  "takerFee": "0",
  "makerAssetAmount": "1",
  "takerAssetAmount": "1900000000000000",
  "salt": "65660119259488312333190624144619081767663454080195720454619643518829023034680",
  "signature": "0x1b36d2609ebeacd336b399899933c334671fe328678cfc42f517301b610575ca735905d587c7da13d867735e55fec9fc3fee947254201ef7e4fc1318b47c280f2302",
  "makerFeeAssetData": "0x025717920000000000000000000000007ad9014955352638ae3d4036c9e43009117b88710000000000000000000000000000000000000000000000000000000000000d9b",
  "takerFeeAssetData": "0xf47261b0000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c"
}
// https://nftrade.com/assets/bsc/0xc0bfe67cedc9fe042f335258eb75b9e1baaf1a5d/58495
const dealOrderS:DealOrder = {
  chainId,
  "senderAddress": "0x0000000000000000000000000000000000000000",
  "makerAddress": "0x3f5c7eca9ca94e77ea6ddbea436180aa43762cbb",
  "takerAddress": "0x0000000000000000000000000000000000000000",
  "makerAssetData": "0x02571792000000000000000000000000c0bfe67cedc9fe042f335258eb75b9e1baaf1a5d000000000000000000000000000000000000000000000000000000000000e47f",
  "takerAssetData": "0xf47261b0000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",
  "exchangeAddress": "0xcFB6Ee27d82beb1B0f3aD501B968F01CD7Cc5961",
  "feeRecipientAddress": "0x506567608CCc1487b0224Ebe89aC2834021e64F7",
  "expirationTimeSeconds": "1651993260443",
  "makerFee": "0",
  "takerFee": "395000000000000",
  "makerAssetAmount": "1",
  "takerAssetAmount": "7505000000000000",
  "salt": "76687627825794954112821492683964521072064215420522659982938074752238646802411",
  "signature": "0x1bad2c67c5d4821956e34214e97755fe81d4604f6c1dd724224a937906b0bad99606934c2959701ee1c2f0d253d1756c6c4332225aded3e9bc41588c322d0a734c02",
  "makerFeeAssetData": "0x02571792000000000000000000000000c0bfe67cedc9fe042f335258eb75b9e1baaf1a5d000000000000000000000000000000000000000000000000000000000000e47f",
  "takerFeeAssetData": "0xf47261b0000000000000000000000000bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c",
};

(async () => {
  // const [deployer, maker, taker, feeRecipient, royaltyFeeRecipient] = await ethers.getSigners();

  // hardhat
  // const sellAccount = '0x70997970c51812dc3a010c7d01b50e0d17dc79c8'
  // const buyAccount = '0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC'

  // fork
  const sellAccount  = '0x25E0D5EE363473583e09cbAdE2B5bC9B6657b87A'
  const buyAccount = '0xfC890bDa1ec1C91751eB6099fEa2059453213d7b'


  const config = {
    chainId,
    'contractAddresses': {
      'ElementEx': '0xD4D6B0cDa528fDe2188D215a70477297838aF527',
      'Exchange': '0xcfb6ee27d82beb1b0f3ad501b968f01cd7cc5961',
      'ERC20Proxy': '0xE05D2BAA855C3dBA7b4762D2f02E9012Fb5F3867',
      'ERC721Proxy': '0x2559Be60A7040D645D263cA54c936320f90be74b',
      'ERC1155Proxy': '0x295f911ccb8C771593375a4e8969A124bad725d8',
      'ForwarderEx': '0xc28f1550160478a7fb3b085f25d4b179e08e649a',
      'FeeDispatcher': '0x0000000000000000000000000000000000000000',
      'FeeRecipient': '0x7538262ae993ca117a0e481f908209137a46268e',
      'GasToken': '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c'
    }
  }

  const buyContract = new ZeroExchange({
    chainId,
    address: buyAccount
  }, config)

  // const tx = await buyContract.orderMatch0xV3(dealOrder)
  const callSpec = await buyContract.orderMatchCallData(dealOrder)

  console.log(callSpec)

})()
