import * as secrets from '../../../secrets.json'
import { SwapEx } from '../../src/swapEx/swapEx'
import { TokenSchemaName, SellOrderParams } from 'web3-accounts'
import { NFTradeExAgent } from '../../src/nftradeExAgent'

const seller = '0x36b1a29e0bbd47dfe9dcf7380f276e86da90c4c2'
const buyer = '0x6E339d654815c6d79727f1b94b77d85863eB3659'

;(async () => {
    const chainId = 43114
    const sellEx = new NFTradeExAgent({
      chainId,
      address: seller,
      privateKeys: secrets.privateKeys
    })

    const swapEx = new SwapEx({
      chainId,
      address: buyer,
      privateKeys: secrets.privateKeys
    })


    try {

      const order7211 = {
        'chainId': '43114',
        'senderAddress': '0x0000000000000000000000000000000000000000',
        'makerAddress': '0x36b1a29e0bbd47dfe9dcf7380f276e86da90c4c2',
        'takerAddress': '0x0000000000000000000000000000000000000000',
        'makerAssetData': '0x0257179200000000000000000000000090259d1416e5aea964eac2441aa20e9fb2d992620000000000000000000000000000000000000000000000000000000000000006',
        'takerAssetData': '0xf47261b0000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c7',
        'exchangeAddress': '0xcFB6Ee27d82beb1B0f3aD501B968F01CD7Cc5961',
        'feeRecipientAddress': '0x0000000000000000000000000000000000000000',
        'expirationTimeSeconds': '1654378706377',
        'makerFee': '0',
        'takerFee': '0',
        'makerAssetAmount': '1',
        'takerAssetAmount': '10000000000000000',
        'salt': '13858762036128486650855870747095340751762224384069252598741967215059609010695',
        'signature': '0x1cd94a1b1313b16f5ab2a7eaa4344d5a14bc8f07971e75aa5c80e5508ca424255279e46fdb5b0640d7e54ae171f5bf5f14043b822239979edc0b7faab220bdcc0d02',
        'makerFeeAssetData': '0x0257179200000000000000000000000090259d1416e5aea964eac2441aa20e9fb2d992620000000000000000000000000000000000000000000000000000000000000006',
        'takerFeeAssetData': '0xf47261b0000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c7',
        'recipientAddress': null,
        'orderHash': '0x7d5766e9de7ed72b749332f1c83b4e9ff245cbb35eaacb9116fc4e7a705cb312'
      }

      const order721 = {
        'makerAddress': '0x36b1a29e0bbd47dfe9dcf7380f276e86da90c4c2',
        'takerAddress': '0x0000000000000000000000000000000000000000',
        'feeRecipientAddress': '0x0000000000000000000000000000000000000000',
        'senderAddress': '0x0000000000000000000000000000000000000000',
        'makerAssetAmount': '1',
        'takerAssetAmount': '10000000000000000',
        'makerFee': '0',
        'takerFee': '0',
        'expirationTimeSeconds': '1654378706377',
        'salt': '13858762036128486650855870747095340751762224384069252598741967215059609010695',
        'makerAssetData': '0x0257179200000000000000000000000090259d1416e5aea964eac2441aa20e9fb2d992620000000000000000000000000000000000000000000000000000000000000006',
        'takerAssetData': '0xf47261b0000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c7',
        'makerFeeAssetData': '0x0257179200000000000000000000000090259d1416e5aea964eac2441aa20e9fb2d992620000000000000000000000000000000000000000000000000000000000000006',
        'takerFeeAssetData': '0xf47261b0000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c7',
        'exchangeAddress': '0xcFB6Ee27d82beb1B0f3aD501B968F01CD7Cc5961',
        'chainId': '0xa86a',
        'signature': '0x1cd94a1b1313b16f5ab2a7eaa4344d5a14bc8f07971e75aa5c80e5508ca424255279e46fdb5b0640d7e54ae171f5bf5f14043b822239979edc0b7faab220bdcc0d02'
      }
      const order1155 = {
        'price': 0.02,
        'id': '48332043-28b1-4428-93a9-8c260b1b2cb2',
        'chainId': '43114',
        'senderAddress': '0x0000000000000000000000000000000000000000',
        'makerAddress': '0x36b1a29e0bbd47dfe9dcf7380f276e86da90c4c2',
        'takerAddress': '0x0000000000000000000000000000000000000000',
        'makerAssetData': '0xa7cb5fb7000000000000000000000000dad95f1ec9360ffd5c942592b9a5988172134a35000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000',
        'takerAssetData': '0xf47261b0000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c7',
        'exchangeAddress': '0xcFB6Ee27d82beb1B0f3aD501B968F01CD7Cc5961',
        'feeRecipientAddress': '0x0000000000000000000000000000000000000000',
        'expirationTimeSeconds': '1654378935335',
        'makerFee': '0',
        'takerFee': '0',
        'makerAssetAmount': '1',
        'takerAssetAmount': '20000000000000000',
        'salt': '10170851613158457999890999269085286139198020801662165258601619738850289718839',
        'signature': '0x1c399ee4106cff74c6f962df53ad04e048abfc26c6f666b9c9458eaadc038b22270ecf8b0049b1fe951004ebbfc92bdc05bfc637ee721196893b709afb08a3ee2502',
        'makerFeeAssetData': '0xa7cb5fb7000000000000000000000000dad95f1ec9360ffd5c942592b9a5988172134a35000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000c00000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000',
        'takerFeeAssetData': '0xf47261b0000000000000000000000000b31f66aa3c1e785363f0875a1b74e27b85fd66c7',
        'recipientAddress': null,
        'orderHash': '0x687a309ceb0b5d16759d46fd77e2a2fcd840b145178b959834398736967f7fb0'
      }
      console.log('\n--------------------Zero Ex V2 Market------------------\n')

      // await sellEx.acceptOrder( JSON.stringify(order1155))

      const gas = await swapEx.buyNFTradeWithETH([JSON.stringify(order721)])
      console.log(gas)

      // console.log('batchBuyWithETH gas', gas.toString())


    } catch (e) {
      console.log(e)
    }
  }
)()
